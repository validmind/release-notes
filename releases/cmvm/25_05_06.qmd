---
title: "25.05.06 hotfix release notes"
date: "May 28, 2025"
sidebar: validmind-installation
toc-expand: true
# Content edited by AI - 2025-05-29 08:29
# Content validated by AI - 2025-05-29 08:29
# Content overwritten from an earlier version - 2025-05-29 08:29
---

## Backend
<!--- Tag: [cmvm/25.05.06](https://github.com/validmind/backend/releases/tag/cmvm/25.05.06) --->
<!--- Compare API call: gh api repos/validmind/backend/compare/ff1a9538875d9b1a6cf56cfd3bf92f6f1ee54bb6...ff1a9538875d9b1a6cf56cfd3bf92f6f1ee54bb6 --->

### Bug fixes


<!--- PR #1522: https://github.com/validmind/backend/pull/1522 --->
<!--- Labels: bug --->
### Improved authentication flow handling for cases with missing resource identifiers (#1522)

We have addressed a vulnerability related to resource organization checks. To enhance security, we've incorporated new logic into the workflow. This update modifies the organization value used in the Casbin enforcement process.

## Release Notes

### Enhancements to the Authentication Module

#### Update to `get_resource_organization` Function
We've added a guard clause to the `get_resource_organization` function. Now, if a falsy or empty `resource_id` is provided, the function will return the default organization. This update aims to prevent unnecessary processing and potential errors that could occur due to missing resource identifiers.

#### Increased Debug Logging
We've included an additional debug logging statement to capture critical information such as the organization cuid, resource type, and resource_id. This enhancement will make it easier to debug and monitor access control decisions.

These updates improve the resilience of the function when handling incomplete inputs and increase the traceability of the authorization flow within the backend.


<!--- PR #1520: https://github.com/validmind/backend/pull/1520 --->
<!--- Labels: bug, python --->
### Update initialization of `get_object_storage` (#1520)

This release does not include any breaking changes.

This update replaces the direct import and usage of the object storage module with a new factory method, `get_object_storage`. This ensures that the object storage instance is properly initialized before use. The changes occur in several files:

In `scripts/update_data_template.py`, the import is updated. The `download_bytes` function now retrieves an object storage instance using `get_object_storage`. It then initializes it using the provider specified by the environment variable.

In `src/backend/utils/report_render_helpers/__init__.py`, the import is updated. Similar adjustments are made in the `download` function to obtain an object storage instance.

In `src/backend/utils/reports.py`, the code now calls `get_object_storage` to check for file existence and to download template files.

These changes encapsulate the object storage setup, making the code more modular. This could potentially enable easier changes to the underlying storage service implementation in the future.

<!-- ### Changes with no label -->


<!--- PR #1529: https://github.com/validmind/backend/pull/1529 --->
<!--- Labels: none --->
<!--- ### Production update to version `prod-1.30.16` (#1529) --->
<!-- No release notes or summary provided. -->


<!--- PR #1523: https://github.com/validmind/backend/pull/1523 --->
<!--- Labels: none --->
<!--- ### Merge main into staging (#1523) --->
<!-- No release notes or summary provided. -->


<!--- PR #1524: https://github.com/validmind/backend/pull/1524 --->
<!--- Labels: none --->
<!--- ### Updated production to version `prod-1.30.16` (#1524) --->
<!-- No release notes or summary provided. -->


<!--- PR #1528: https://github.com/validmind/backend/pull/1528 --->
<!--- Labels: none --->
<!--- ### Merged main into staging (#1528) --->
<!-- No release notes or summary provided. -->


<!--- PR #1476: https://github.com/validmind/backend/pull/1476 --->
<!--- Labels: none --->
### Introducing support for document types - Stage 1 (#1476)

This update introduces a new model for Organization Document Types. 

The Legacy Document Type Management feature allows administrators to manage the legacy document types. It changes the way templates are initialized for the models and backpopulates the legacy document types (enums) with their corresponding Document Type ID for the following tables: `metadatas`, `test_results`, `document_section_status`, `block_configs`, and `assessment_evidences`.

You may notice new triggers on the migrations. These are intended to be removed as part of stage 2.

The feature flag activates the Document Type management in the API, but it will continue to backpopulate.

There are no breaking changes on the legacy endpoints with hardcoded document type enums.

The Document Type - Auto Initialize Settings feature allows administrators to control which document is created during model creation. For instance, if a monitoring document is not created but expects template assignment, the admin can configure this for any other document type.

The stage 2 plan includes new, simpler API endpoints to handle what is currently managed by the legacy endpoints with hardcoded document types enum. This will simplify stakeholder permissions in RBAC and decorators. The old endpoints and unused items will be removed, including the triggers. New endpoints will be introduced to specifically serve model documents. Major changes on the frontend will simplify and generalize template page content rendering.

A tutorial on how to use Loom for screen recording is also included. This tool is a convenient way to create tutorials, demos, and presentations. It allows you to record your screen, adjust recording settings, edit your recording, and share your video with others.

This update significantly enhances the system by introducing a new Document Types feature. A new database migration has been implemented, creating a dedicated `document_types` table and related columns in `model_documents`, `metadatas`, `test_results`, `block_configs`, `document_section_status`, and `assessment_evidences`. The migration script also includes functions and triggers to automatically set or backfill the `document_type_id` fields across multiple tables based on legacy document types.

A new `DocumentType` model has been added, complete with business logic for creation, slug validation, and template association. This model includes methods for creating default document types and loading predefined templates. This change also impacts the `InventoryModel` class: the new `initialize_model_documents` method (and its sub-methods) now use the document type information to generate and sync model documents, replacing the legacy `set_templates` method.

New API endpoints have been added in the `ui_document_types` route to support Create, Read, Update, and Delete (CRUD) operations on document types. This update also includes adjustments to Casbin rules, serialization of model documents, and enhancements to unit tests to cover the new functionality and ensure proper integration with existing models and workflows.

Overall, this update introduces a comprehensive refactor of document management in the system. It centralizes document type definitions and automates the propagation of this information through many parts of the application.


## Frontend
<!--- Tag: [cmvm/25.05.06](https://github.com/validmind/frontend/releases/tag/cmvm/25.05.06) --->
<!--- Compare API call: gh api repos/validmind/frontend/compare/6d90ce1729a053d5e965739ac0e7ebda44603d49...6d90ce1729a053d5e965739ac0e7ebda44603d49 --->

<!-- ### Changes with no label -->


<!--- PR #1422: https://github.com/validmind/frontend/pull/1422 --->
<!--- Labels: none --->
<!--- ### Updated production to version `prod-1.36.2` (#1422) --->
<!-- No release notes or summary provided. -->


<!--- PR #1421: https://github.com/validmind/frontend/pull/1421 --->
<!--- Labels: none --->
<!--- ### Updated staging with the latest main branch changes (#1421) --->
<!-- No release notes or summary provided. -->


<!--- PR #1416: https://github.com/validmind/frontend/pull/1416 --->
<!--- Labels: none --->
<!--- ### Production update to version `prod-1.36.2` (#1416) --->
<!-- No release notes or summary provided. -->


<!--- PR #1415: https://github.com/validmind/frontend/pull/1415 --->
<!--- Labels: none --->
<!--- ### Merged main branch into staging for version 1.36.2 (#1415) --->
<!-- No release notes or summary provided. -->


<!--- PR #1420: https://github.com/validmind/frontend/pull/1420 --->
<!--- Labels: none --->
### Improved method for modifying hostnames in the `MainApp` component

We've enhanced the way hostnames are transformed in the `MainApp` component. Instead of simply replacing the 'api.' substring with a dot ('.'), we now use a regular expression to remove the entire first subdomain (up to and including the first dot) and replace it with a single dot ('.'). This update supports hostnames with various subdomains, not just 'api.', making the transformation logic more versatile (#1420)

In this update, we've improved the way hostnames are modified in the MainApp component. Previously, the system replaced the 'api.' substring with a dot ('.'). Now, we've implemented a more robust method that uses a regular expression to remove the entire first subdomain (everything up to and including the first dot) and replace it with a single dot ('.'). This enhancement supports hostnames with different subdomains beyond just 'api.', making the transformation logic more versatile.


<!--- PR #1396: https://github.com/validmind/frontend/pull/1396 --->
<!--- Labels: none --->
### Introducing support for document types - Stage 1 (#1396)

The latest update enables settings and document types. For more detailed information, please visit [this link](https://github.com/validmind/backend/pull/1476). A demo of these changes can be viewed [here](https://www.loom.com/share/48203f7c757c4de781d210101d785cb1).

Please note, this update does not introduce any breaking changes.

This update introduces a comprehensive Document Types feature into the application. The key functionalities added include:

API Enhancements:
- New API endpoints for managing document types (list, get, create, update, and delete) have been added. These endpoints use Axios to communicate with the backend.
- Additional API methods for retrieving model document details have been integrated, ensuring a cohesive experience between document types and model documents.
- Enhancements in the error handling logic in the API layer improve resilience by exploring multiple potential error message sources in Axios responses.

Frontend UI Components:
- A new route (`/settings/document-types/*`) is added to the main application, directing users to the Document Types management section.
- A dedicated sidebar entry for Document Types has been integrated into the settings sidebar when the feature flag is enabled.
- New React components and hooks have been introduced (e.g., `DocumentTypesList`, `DocumentTypeModal`, `DeleteDocumentTypeModal`, and the `useDocumentTypes` hook) to support listing, creating, editing, and deleting document types.
- The UI components include validations (such as ensuring the name and slug fields are correctly filled and formatted) and interface elements for a smooth user experience.

Configuration & Infrastructure:
- The feature is conditionally enabled using a feature flag (`documentTypes`) in the flags configuration.
- Minor adjustments were made to TypeScript configuration files to change the module resolution from `bundler` to `node`, which may affect module imports and compatibility.
- Some minor code enhancements in existing pages (e.g., the Model Inventory Overview) improve robustness by using optional chaining for safety.

In conclusion, this update significantly enhances the software by adding a new document types management module that integrates with both the API and UI layers, while ensuring existing functionalities remain intact.


## Agents
<!--- Tag: [cmvm/25.05.06](https://github.com/validmind/agents/releases/tag/cmvm/25.05.06) --->
<!--- Compare API call: gh api repos/validmind/agents/compare/e13ae59832c2d30ba53a8fc9b946a18de1e8fd15...e13ae59832c2d30ba53a8fc9b946a18de1e8fd15 --->

<!-- ### Changes with no label -->


<!--- PR #27: https://github.com/validmind/agents/pull/27 --->
<!--- Labels: none --->
<!--- ### Merging main branch into production branch (#27) --->
<!-- No release notes or summary provided. -->


<!--- ## Documentation --->
<!--- Tag: [cmvm/25.05.06](https://github.com/validmind/documentation/releases/tag/cmvm/25.05.06) --->
<!--- Compare API call: gh api repos/validmind/documentation/compare/01f652d63c5c2897688a76ad8ca89ea50973c492...01f652d63c5c2897688a76ad8ca89ea50973c492 --->
<!-- No public PRs found for this release -->

<!--- ## Validmind-library --->
<!--- Tag: [cmvm/25.05.06](https://github.com/validmind/validmind-library/releases/tag/cmvm/25.05.06) --->
<!--- Compare API call: gh api repos/validmind/validmind-library/compare/cmvm/25.05.06...cmvm/25.05.06 --->
<!-- No public PRs found for this release -->
