---
title: "Fixed bug where `document_type` was not set correctly (#1412)"
categories: [backend, 25.05, release]
sidebar: release-notes
toc-expand: true
date: "April 28, 2025"
# CHECK: Title validation failed - Both versions of the content convey the same information, but the edited version is more concise and clear. Here are some specific improvements:

1. **Conciseness**: The edited version removes unnecessary words like "a" and "being," making the sentence more direct.

2. **Clarity**: Using backticks around `document_type` in the edited version helps to clearly indicate that it is a code or variable name, which is a common convention in technical writing.

Overall, the edited content
# Content overwritten from an earlier version - 2025-06-06 08:50
# PR URL: https://github.com/validmind/backend/pull/1412
---

# PR Summary

This PR introduces a functional enhancement to the `_add_library_block` function by passing an additional `content_type` parameter derived from `document_type` to the function call. Previously, the function was relying solely on the internal `data["content"]["content_type"]`, but now it also incorporates the externally provided `document_type` value, potentially giving a more accurate or context-specific content type when adding blocks to a template.

The change ensures that the block created incorporates both the original content information and the explicit document type, which might be used for rendering or processing the block differently based on its type.