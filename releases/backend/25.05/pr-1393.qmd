---
title: "Enhance metadata filtering in `Figure` model to support timestamp values (#1393)"
categories: [backend, 25.05, release]
sidebar: release-notes
toc-expand: true
date: "April 28, 2025"
# CHECK: Title validation failed - The edited content improves clarity and precision by enclosing "Figure" in backticks, indicating it is likely a class or model name in a programming context. Additionally, changing "handle" to "support" provides a more positive and proactive connotation, suggesting that the model will actively accommodate timestamp values rather than just manage them. Overall, the edit enhances readability and understanding for a technical audience.
# Content overwritten from an earlier version - 2025-06-06 08:50
# PR URL: https://github.com/validmind/backend/pull/1393
---

# PR Summary

This pull request enhances the metadata filtering in the `get_latest_figures` function by adding special handling for timestamp values. The changes introduce a check to determine if the metadata value is a `datetime` or `date` object. If it is, the code casts the JSON string value to a datetime type using SQLAlchemy's `func.cast` and compares it with the provided value. If not, the value is converted to a string for comparison. This improvement allows for accurate filtering of records based on timestamp metadata, ensuring that date and time values are correctly interpreted and compared within the query.