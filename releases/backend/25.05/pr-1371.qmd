---
title: "Fix metadata figure query (#1371)"
categories: [backend, 25.05, release]
sidebar: release-notes
toc-expand: true
date: "April 28, 2025"
# Content edited by AI - 2025-06-05 17:37
# Content validated by AI - 2025-06-05 17:37
# Content overwritten from an earlier version - 2025-06-05 17:37
# PR URL: https://github.com/validmind/backend/pull/1371
---

This update improves the metadata filtering mechanism in database queries for figures by enhancing how filters are constructed from metadata keys. When a metadata value is a timestamp (either a `datetime` or `date` object), the code now casts the JSON value (extracted as a string) to a `DateTime` type using the database's casting functionality. This ensures accurate comparisons between timestamp values in the metadata and the provided `datetime`/`date` objects. Additionally, there is a minor version bump in the `pyproject.toml` file.