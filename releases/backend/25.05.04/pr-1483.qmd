---
title: "adding pg_stat migration"
categories: [backend, 25.05.04, hotfix]
sidebar: release-notes
toc-expand: true
date: "May 23, 2025"
# PR URL: https://github.com/validmind/backend/pull/1483
---
#### What
adding extension for profiling

# PR Summary

This PR introduces a migration script aimed at managing the `pg_stat_statements` extension in a PostgreSQL database. The migration checks for the existence of the extension and creates it if it is absent. Specifically, the upgrade function connects to the database and executes a query to determine if the extension is already installed. If not, it proceeds to create the extension using a conditional SQL command. It then retrieves and prints the current version of the extension for informational purposes. The downgrade function is currently a placeholder and does not implement any rollback logic.

The changes focus solely on managing the database extension, ensuring that monitoring features provided by `pg_stat_statements` are available without duplicating the extension if it already exists.