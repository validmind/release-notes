---
title: "Remove privledge escalation issue"
categories: [backend, 25.05.04, hotfix, bug, security]
sidebar: release-notes
toc-expand: true
date: "May 23, 2025"
# PR URL: https://github.com/validmind/backend/pull/1458
---
#### What
<!-- Describe what the change is doing, including behavior before and after the change -->
We have an issue where normal users are able to escalate their permissions by turning themselves into admins.

#### External Release Notes
<!--- REPLACE THIS COMMENT WITH YOUR DESCRIPTION --->
Remove privilege escalation vulnerability.

#### Breaking Changes
<!-- List any breaking changes -->

#### Screenshots/Videos (Frontend Only)
<!-- Add screenshots or videos showing before/after -->

# PR Summary

This PR enhances the user role management endpoints by updating the authorization mechanism and improving variable naming for clarity. In the POST endpoint, the authorization decorator has been changed from using a generic `refresh="api-async"` parameter to a more fine-grained control with `resource="Role"` and `action="create"`. Similarly, in the DELETE endpoint, the authorization decorator now uses `resource="Role"` with `action="delete"` to better reflect permission requirements.

Additionally, the variable previously named `user` has been renamed to `to_update_user` to more clearly represent the user that will be updated. This ensures consistency when checking organization membership and creating the role assignment. The event publishing call now also correctly references the updated user variable, ensuring that events are generated with the intended user information.