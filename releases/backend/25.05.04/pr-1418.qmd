---
title: "Enable local user registration in Keycloak theme (#1418)"
categories: [backend, 25.05.04, hotfix]
sidebar: release-notes
toc-expand: true
date: "May 16, 2025"
# Content edited by AI - 2025-06-04 18:01
# Content validated by AI - 2025-06-04 18:01
# Content overwritten from an earlier version - 2025-06-04 18:01
# PR URL: https://github.com/validmind/backend/pull/1418
---

This update disables self-registration in Keycloak by setting the `registrationAllowed` flag to `false`, preventing users from creating accounts via the registration link. The login and registration templates have been updated: the registration link now appears only if `registrationAllowed` is `true`. The registration form now clearly defines required fields and includes a hidden debug block to display form fields. Additional fields are rendered only if they are not required fields, enhancing form structure and debugging.

In the Keycloak realm configuration, the self-registration capability is disabled by setting the `registrationAllowed` flag to `false`. This change ensures that end users can no longer create accounts via the registration link.

The login and registration FreeMarker templates have been updated. In the login template, the registration link is now conditionally displayed only when the realm's `registrationAllowed` flag is `true`. In the registration template, additional enhancements have been made:

- A debug block has been added to display available form fields, which is hidden by default using the CSS style `display: none;`.
- The registration form explicitly defines required fields: username, email, first name, last name, password, and password confirmation, to ensure proper validation.
- Additional fields from the provided form data are iterated and rendered only if they are not among the explicitly defined required fields.

These changes improve control over user self-registration and enhance the registration form's structure and debugging capabilities.